<!doctype html><html lang=zh dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>è¡Œä¸ºæ¨¡å¼ | AlfredNing</title><meta name=keywords content><meta name=description content="å®šä¹‰ å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€ ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚
è§’è‰² æ¨¡æ¿ç±» å…·ä½“å­ç±» é€‚ç”¨åœºæ™¯ å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚ Springçš„BeanFactory, Javaçš„Servlet å®ç° package design_patterns; /** * æ¨¡æ¿æ–¹æ³•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 10:32:00 */ public class TemplateMethodMain { public static void main(String[] args) { Chess chess = new Chess(); chess.play(); new Monopoly().play(); } } // æ¨¡æ¿ç±» abstract class Game { abstract void initialize(); abstract void startGame(); abstract void endGame(); public final void play() { initialize(); startGame(); endGame(); } } // å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹ class Chess extends Game { @Override void initialize() { System."><meta name=author content="AlfredNing"><link rel=canonical href=https://AlfredNing.github.io/note/program/design_pattern/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.992dd02838d36453c6b1ff2a12a60049a3e447cd982ad5f7b4470d32eb4648e2.css integrity="sha256-mS3QKDjTZFPGsf8qEqYASaPkR82YKtX3tEcNMutGSOI=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="è¡Œä¸ºæ¨¡å¼"><meta property="og:description" content="å®šä¹‰ å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€ ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚
è§’è‰² æ¨¡æ¿ç±» å…·ä½“å­ç±» é€‚ç”¨åœºæ™¯ å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚ Springçš„BeanFactory, Javaçš„Servlet å®ç° package design_patterns; /** * æ¨¡æ¿æ–¹æ³•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 10:32:00 */ public class TemplateMethodMain { public static void main(String[] args) { Chess chess = new Chess(); chess.play(); new Monopoly().play(); } } // æ¨¡æ¿ç±» abstract class Game { abstract void initialize(); abstract void startGame(); abstract void endGame(); public final void play() { initialize(); startGame(); endGame(); } } // å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹ class Chess extends Game { @Override void initialize() { System."><meta property="og:type" content="article"><meta property="og:url" content="https://AlfredNing.github.io/note/program/design_pattern/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F/"><meta property="article:section" content="note"><meta property="article:published_time" content="2023-08-03T10:19:40+08:00"><meta property="article:modified_time" content="2023-09-16T13:50:50+00:00"><meta property="og:site_name" content="Alfred.Ning"><meta name=twitter:card content="summary"><meta name=twitter:title content="è¡Œä¸ºæ¨¡å¼"><meta name=twitter:description content="å®šä¹‰ å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€ ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚
è§’è‰² æ¨¡æ¿ç±» å…·ä½“å­ç±» é€‚ç”¨åœºæ™¯ å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚ Springçš„BeanFactory, Javaçš„Servlet å®ç° package design_patterns; /** * æ¨¡æ¿æ–¹æ³•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 10:32:00 */ public class TemplateMethodMain { public static void main(String[] args) { Chess chess = new Chess(); chess.play(); new Monopoly().play(); } } // æ¨¡æ¿ç±» abstract class Game { abstract void initialize(); abstract void startGame(); abstract void endGame(); public final void play() { initialize(); startGame(); endGame(); } } // å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹ class Chess extends Game { @Override void initialize() { System."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"ç¬”è®°","item":"https://AlfredNing.github.io/note/"},{"@type":"ListItem","position":3,"name":"ç¼–ç¨‹","item":"https://AlfredNing.github.io/note/program/"},{"@type":"ListItem","position":4,"name":"è®¾è®¡æ¨¡å¼","item":"https://AlfredNing.github.io/note/program/design_pattern/"},{"@type":"ListItem","position":5,"name":"è¡Œä¸ºæ¨¡å¼","item":"https://AlfredNing.github.io/note/program/design_pattern/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"è¡Œä¸ºæ¨¡å¼","name":"è¡Œä¸ºæ¨¡å¼","description":"å®šä¹‰ å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€ ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚\nè§’è‰² æ¨¡æ¿ç±» å…·ä½“å­ç±» é€‚ç”¨åœºæ™¯ å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚ Springçš„BeanFactory, Javaçš„Servlet å®ç° package design_patterns; /** * æ¨¡æ¿æ–¹æ³•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 10:32:00 */ public class TemplateMethodMain { public static void main(String[] args) { Chess chess = new Chess(); chess.play(); new Monopoly().play(); } } // æ¨¡æ¿ç±» abstract class Game { abstract void initialize(); abstract void startGame(); abstract void endGame(); public final void play() { initialize(); startGame(); endGame(); } } // å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹ class Chess extends Game { @Override void initialize() { System.","keywords":[""],"articleBody":"å®šä¹‰ å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€ ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶ ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º æ¨¡æ¿æ–¹æ³•æ¨¡å¼ å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚\nè§’è‰² æ¨¡æ¿ç±» å…·ä½“å­ç±» é€‚ç”¨åœºæ™¯ å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚ å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚ Springçš„BeanFactory, Javaçš„Servlet å®ç° package design_patterns; /** * æ¨¡æ¿æ–¹æ³•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 10:32:00 */ public class TemplateMethodMain { public static void main(String[] args) { Chess chess = new Chess(); chess.play(); new Monopoly().play(); } } // æ¨¡æ¿ç±» abstract class Game { abstract void initialize(); abstract void startGame(); abstract void endGame(); public final void play() { initialize(); startGame(); endGame(); } } // å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹ class Chess extends Game { @Override void initialize() { System.out.println(\"åˆå§‹åŒ–å›½é™…è±¡æ£‹æ¸¸æˆ\"); } @Override void startGame() { System.out.println(\"å¼€å§‹å›½é™…è±¡æ£‹æ¸¸æˆ\"); } @Override void endGame() { System.out.println(\"ç»“æŸå›½é™…è±¡æ£‹æ¸¸æˆ\"); } } // å…·ä½“æ¸¸æˆç±» - å¤§å¯Œç¿ class Monopoly extends Game { @Override void initialize() { System.out.println(\"åˆå§‹åŒ–å¤§å¯Œç¿æ¸¸æˆ\"); } @Override void startGame() { System.out.println(\"å¼€å§‹å¤§å¯Œç¿æ¸¸æˆ\"); } @Override void endGame() { System.out.println(\"ç»“æŸå¤§å¯Œç¿æ¸¸æˆ\"); } } ç­–ç•¥æ¨¡å¼ å®¢æˆ·ç«¯å’Œç®—æ³•ä¹‹é—´ç›¸äº’è§£è€¦ å®¢æˆ·ç«¯è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„ç®—æ³•ï¼Œæ— éœ€ä¿®æ”¹ä»£ç  è§’è‰² ç­–ç•¥æ¥å£ å…·ä½“ç­–ç•¥ç±» ä¸Šä¸‹æ–‡ç±» ä½¿ç”¨åœºæ™¯ å½“ä¸€ä¸ªç±»æœ‰å¤šç§ç®—æ³•æˆ–è¡Œä¸ºï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°é€‰æ‹©å…¶ä¸­ä¸€ç§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚ å½“ä¸€ä¸ªç±»çš„ç®—æ³•æ¶‰åŠå¤æ‚çš„æ¡ä»¶è¯­å¥ï¼Œå¯ä»¥é€šè¿‡ç­–ç•¥æ¨¡å¼å°†ä¸åŒçš„ç®—æ³•æŠ½è±¡å‡ºæ¥ï¼Œä½¿ä»£ç æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚ çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥ å®ç° /** * ç­–ç•¥æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 11:51:00 */ public class StrategyMain { public static void main(String[] args) { ShopCart shoppingCart = new ShopCart(); double originalPrice = 100.0; // è®¾ç½®æ™®é€šä¼šå‘˜ç­–ç•¥ shoppingCart.setDiscountStrategy(new RegularCustomerDiscount()); double totalPriceForRegularCustomer = shoppingCart.calculateTotalPrice(originalPrice); System.out.println(\"Total price for regular customer: \" + totalPriceForRegularCustomer); // è®¾ç½®é«˜çº§ä¼šå‘˜ç­–ç•¥ shoppingCart.setDiscountStrategy(new PremiumCustomerDiscount()); double totalPriceForPremiumCustomer = shoppingCart.calculateTotalPrice(originalPrice); System.out.println(\"Total price for premium customer: \" + totalPriceForPremiumCustomer); // è®¾ç½®è¶…çº§ä¼šå‘˜ç­–ç•¥ shoppingCart.setDiscountStrategy(new SuperCustomerDiscount()); double totalPriceForSuperCustomer = shoppingCart.calculateTotalPrice(originalPrice); System.out.println(\"Total price for super customer: \" + totalPriceForSuperCustomer); } } // ä¸Šä¸‹æ–‡ class ShopCart { private DiscountStrategy discountStrategy; public void setDiscountStrategy(DiscountStrategy discountStrategy) { this.discountStrategy = discountStrategy; } public double calculateTotalPrice(double originPrice) { return discountStrategy.applyDiscount(originPrice); } } // ç­–ç•¥æ¥å£ interface DiscountStrategy { double applyDiscount(double originPrice); } // æ™®é€šä¼šå‘˜å®ç° class RegularCustomerDiscount implements DiscountStrategy { @Override public double applyDiscount(double originPrice) { return originPrice; } } // é«˜çº§ä¼šå‘˜æŠ˜æ‰£ç­–ç•¥ class PremiumCustomerDiscount implements DiscountStrategy { @Override public double applyDiscount(double originalPrice) { // é«˜çº§ä¼šå‘˜äº«å—9æŠ˜ä¼˜æƒ  return originalPrice * 0.9; } } // è¶…çº§ä¼šå‘˜ class SuperCustomerDiscount implements DiscountStrategy { @Override public double applyDiscount(double originPrice) { return originPrice * 0.8; } } çŠ¶æ€æ¨¡å¼ å®ƒå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å¾—å¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å…¶ç±»ã€‚çŠ¶æ€æ¨¡å¼å°†å¯¹è±¡çš„è¡Œä¸ºåŒ…è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œä½¿å¾—å¯¹è±¡çš„è¡Œä¸ºå¯ä»¥æ ¹æ®å†…éƒ¨çŠ¶æ€çš„æ”¹å˜è€Œæ”¹å˜ï¼Œè€Œæ— éœ€ä¿®æ”¹å¯¹è±¡æœ¬èº«çš„ä»£ç ã€‚\nä¸ç­–ç•¥æ¨¡å¼æœ€å¤§çš„ä¸åŒåœ¨äºå†…éƒ¨å­˜åœ¨çŠ¶æ€çš„æ”¹å˜\nè§’è‰² ç¯å¢ƒç±» çŠ¶æ€æ¥å£ å…·ä½“çŠ¶æ€ç±» ä½¿ç”¨åœºæ™¯ å½“ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å¯¹è±¡çš„çŠ¶æ€å¯èƒ½åœ¨è¿è¡Œæ—¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚ å½“å¯¹è±¡æœ‰å¾ˆå¤šçŠ¶æ€ï¼Œå¹¶ä¸”æ¯ä¸ªçŠ¶æ€ä¸‹æœ‰ä¸åŒçš„è¡Œä¸ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥å°è£…çŠ¶æ€çš„è¡Œä¸ºï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºæ‰©å±•ã€‚ å®ç° /** * çŠ¶æ€æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 12:08:00 */ public class StateMain { public static void main(String[] args) { Elevator elevator = new Elevator(); elevator.goUp(); elevator.pause(); elevator.setCurrentState(new RunningState()); elevator.goUp(); elevator.goDown(); elevator.setCurrentState(new StopState()); elevator.pause(); } } // ç¯å¢ƒç±» class Elevator { private ElevatorState currentState; public Elevator() { currentState = new StopState(); } public void setCurrentState(ElevatorState currentState) { this.currentState = currentState; } public void goUp() { this.currentState.goUp(); } public void goDown() { this.currentState.goDown(); } public void pause() { currentState.pause(); } } // çŠ¶æ€æ¥å£ - ç”µæ¢¯ interface ElevatorState { void goUp(); void goDown(); void pause(); } // åœæ­¢çŠ¶æ€ class StopState implements ElevatorState { @Override public void goUp() { System.out.println(\"Elevator is going up.\"); } @Override public void goDown() { System.out.println(\"Elevator is going down.\"); } @Override public void pause() { System.out.println(\"Elevator is paused.\"); } } // è¿è¡ŒçŠ¶æ€ class RunningState implements ElevatorState { @Override public void goUp() { System.out.println(\"Elevator is already going up.\"); } @Override public void goDown() { System.out.println(\"Elevator is already going down.\"); } @Override public void pause() { System.out.println(\"Elevator cannot pause while running.\"); } } // æš‚åœçŠ¶æ€ class PauseState implements ElevatorState { @Override public void goUp() { System.out.println(\"Elevator is going up from pause state.\"); } @Override public void goDown() { System.out.println(\"Elevator is going down from pause state.\"); } @Override public void pause() { System.out.println(\"Elevator is already paused.\"); } } ä¸­ä»‹è€…æ¨¡å¼ é€šè¿‡å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œå°†å¯¹è±¡ä¹‹é—´çš„è€¦åˆè§£è€¦ï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ ç®€å•å’Œçµæ´»ã€‚\nä¸­ä»‹è€…æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å°è£…åœ¨ä¸€ä¸ªä¸­ä»‹è€…ä¸­ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´ä¸å†ç›´æ¥äº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹è€…æ¥è¿›è¡Œé€šä¿¡ã€‚è¿™æ ·å¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚\nè§’è‰² ä¸­ä»‹è€… å…·ä½“ä¸­ä»‹è€… æŠ½è±¡åŒäº‹ç±» å…·ä½“åŒäº‹ç±» ä½¿ç”¨åœºæ™¯ å½“ä¸€ä¸ªå¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤æ‚çš„äº¤äº’å…³ç³»ï¼Œå¯¼è‡´è€¦åˆåº¦è¾ƒé«˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥ç®€åŒ–å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚ å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦å’Œå¤šä¸ªå…¶ä»–å¯¹è±¡è¿›è¡Œé€šä¿¡ï¼Œè€Œä¸”æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥å°è£…å¯¹è±¡ä¹‹é—´çš„äº¤äº’é€»è¾‘ã€‚ å®ç° import java.util.ArrayList; import java.util.List; /** * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 12:45:00 */ public class MediatorMain { public static void main(String[] args) { ChatRoom chatRoom = new ChatRoom(); ChatUser u1 = new ChatUser(chatRoom, \"user01\"); chatRoom.addUser(u1); chatRoom.addUser(new ChatUser(chatRoom, \"user02\")); chatRoom.addUser(new ChatUser(chatRoom, \"user03\")); u1.sendMessage(\"Hello everyOne\"); } } // ä¸­ä»‹è€…æ¥å£ interface ChatMediator { void sendMessage(String message, User user); } // æŠ½è±¡åŒäº‹ç±» abstract class User { protected ChatMediator mediator; protected String name; public User(ChatMediator mediator, String name) { this.mediator = mediator; this.name = name; } public abstract void sendMessage(String message); public abstract void receiveMessage(String message); } // å…·ä½“ä¸­ä»‹è€… class ChatRoom implements ChatMediator { private List\u003cUser\u003e users; public ChatRoom() { users = new ArrayList\u003c\u003e(); } @Override public void sendMessage(String message, User user) { for (User u : users) { if (u != user) { u.receiveMessage(message); } } } public void addUser(User user) { users.add(user); } } // å…·ä½“åŒäº‹ç±» class ChatUser extends User { public ChatUser(ChatMediator chatMediator, String name) { super(chatMediator, name); } @Override public void sendMessage(String message) { System.out.println(name + \" å‘é€æ¶ˆæ¯: \" + message); mediator.sendMessage(message, this); } @Override public void receiveMessage(String message) { System.out.println(name + \" æ¥æ”¶æ¶ˆæ¯: \" + message); } } è§‚å¯Ÿè€…æ¨¡å¼ å®šä¹‰å¯¹è±¡çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚å‘å¸ƒ-è®¢é˜…ï¼Œæ¨¡å‹-è§†å›¾\nè§’è‰² ä¸»é¢˜ å…·ä½“ä¸»é¢˜ è§‚å¯Ÿè€… å…·ä½“è§‚å¯Ÿè€… ä½¿ç”¨åœºæ™¯ å½“ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚ å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œä½†åˆå¸Œæœ›å°½é‡é¿å…ä¸è¢«é€šçŸ¥å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚ å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å°†è¿™ä¸¤è€…è§£è€¦ã€‚ Springäº‹ä»¶æœºåˆ¶ã€Vueçš„åŒå‘ç»‘å®šã€å“åº”å¼ç¼–ç¨‹ å®ç° import java.util.ArrayList; import java.util.List; /** * è§‚å¯Ÿè€…æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ03æ—¥ 13:22:00 */ public class ObserverMain { public static void main(String[] args) { WeatherStation weatherStation = new WeatherStation(); DisplayBoard displayBoard = new DisplayBoard(); Logger logger = new Logger(); weatherStation.addObserver(logger); weatherStation.addObserver(displayBoard); weatherStation.setTemperature(25.6f); } } // è§‚å¯Ÿè€… interface Observer { void update(float temperature); } // å…·ä½“è§‚å¯Ÿè€… - æ˜¾ç¤ºæ¿ class DisplayBoard implements Observer { @Override public void update(float temperature) { System.out.println(\"DisplayBoard Temperature updated to \" + temperature); } } // å…·ä½“è§‚å¯Ÿè€… - æ—¥å¿— class Logger implements Observer { @Override public void update(float temperature) { System.out.println(\"Logger: Temperature updated to \" + temperature); } } // ä¸»é¢˜ interface Subject { void addObserver(Observer observer); void removeObserver(Observer observer); void notifyObserver(); } // å…·ä½“ä¸»é¢˜ class WeatherStation implements Subject { private List\u003cObserver\u003e observers; private float temperature; public WeatherStation() { observers = new ArrayList\u003c\u003e(); } public void setTemperature(float temperature) { this.temperature = temperature; notifyObserver(); } @Override public void addObserver(Observer observer) { observers.add(observer); } @Override public void removeObserver(Observer observer) { observers.remove(observer); } @Override public void notifyObserver() { for (Observer observer : observers) { observer.update(this.temperature); } } } å¤‡å¿˜å½•æ¨¡å¼ ä¸ç ´åå¯¹è±¡å°è£…çš„å‰æä¸‹ï¼Œæ•è·å’Œå­˜å‚¨å¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶åœ¨éœ€è¦çš„æ—¶å€™æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€\nè§’è‰² åŸå‘å™¨ å¤‡å¿˜å½• è´Ÿè´£äºº é€‚ç”¨åœºæ™¯ å½“éœ€è¦ä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸å¸Œæœ›é€šè¿‡å…¬å…±æ¥å£æ¥æš´éœ²å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚ å½“éœ€è¦å®ç°â€œæ’¤é”€â€åŠŸèƒ½æ—¶ï¼Œå¤‡å¿˜å½•æ¨¡å¼å¯ä»¥ä¿å­˜å†å²çŠ¶æ€å¹¶å…è®¸åœ¨éœ€è¦æ—¶æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚ æ•°æ®åº“ä¿å­˜ç‚¹ï¼Œæ¸¸æˆå­˜æ¡£ å®ç° /** * å¤‡å¿˜å½•æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 14:50:00 */ public class MementoMain { public static void main(String[] args) { TextEditor textEditor = new TextEditor(); MementoCareTaker careTaker = new MementoCareTaker(); textEditor.setText(\"text 01\"); careTaker.setMemento(textEditor.createTextMemento()); textEditor.setText(\"text 02\"); careTaker.setMemento(textEditor.createTextMemento()); // è¾“å‡ºå½“å‰æ–‡æœ¬ System.out.println(\"Current text: \" + textEditor.getText()); // æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ textEditor.restoreFromMemento(careTaker.getMemento()); System.out.println(\"Restored text: \" + textEditor.getText()); } } // å¤‡å¿˜å½•æ¨¡å¼ class TextMemento { private String text; public TextMemento(String text) { this.text = text; } public String getText() { return text; } } // åŸå‘å™¨ class TextEditor { private String text; public String getText() { return text; } public void setText(String text) { this.text = text; } public TextMemento createTextMemento() { return new TextMemento(text); } public void restoreFromMemento(TextMemento memento) { text = memento.getText(); } } // è´Ÿè´£äººç±» class MementoCareTaker { private TextMemento memento; public TextMemento getMemento() { return memento; } public void setMemento(TextMemento memento) { this.memento = memento; } } è§£é‡Šå™¨æ¨¡å¼ ç”¨äºå®šä¹‰ä¸€ç§è¯­è¨€çš„è¯­æ³•è¡¨ç¤ºï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è§£é‡Šæ‰§è¡Œè¿™äº›è¯­æ³•è¡¨ç¤ºã€‚å®ƒé€‚ç”¨äºéœ€è¦å¤„ç†å¤æ‚çš„è¯­æ³•è§„åˆ™æˆ–è¡¨è¾¾å¼çš„æƒ…å†µï¼Œå°†è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡è§£é‡Šå™¨é€æ­¥è§£é‡Šæ‰§è¡Œã€‚\nå®ƒå®šä¹‰äº†ä¸€ç§è¯­è¨€çš„è¯­æ³•è¡¨ç¤ºï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è§£é‡Šæ‰§è¡Œè¿™äº›è¯­æ³•è¡¨ç¤ºã€‚è§£é‡Šå™¨æ¨¡å¼é€‚ç”¨äºéœ€è¦å¤„ç†å¤æ‚çš„è¯­æ³•è§„åˆ™æˆ–è¡¨è¾¾å¼çš„æƒ…å†µï¼Œé€šè¿‡å°†è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡è§£é‡Šå™¨é€æ­¥è§£é‡Šæ‰§è¡Œï¼Œä»è€Œå®ç°å¯¹ç‰¹å®šè¯­è¨€çš„è§£é‡Šæ‰§è¡Œã€‚\nè§’è‰² æŠ½è±¡è¡¨è¾¾å¼ ç»ˆç»“ç¬¦è¡¨è¾¾å¼ éç»ˆç»“ç¬¦è¡¨è¾¾å¼ ç¯å¢ƒï¼ˆContextï¼‰ ä½¿ç”¨åœºæ™¯ Spelæ¨¡æ¿è§£æ ç¼–è¯‘å™¨ ç¼–è¯‘åŸç† å‘½ä»¤æ¨¡å¼ ç”¨äºå°†è¯·æ±‚æˆ–æ“ä½œå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå…è®¸å°†è¯·æ±‚è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œå¹¶æ”¯æŒè¯·æ±‚çš„æ’é˜Ÿã€è®°å½•å’Œæ’¤é”€ç­‰åŠŸèƒ½ã€‚\nè§’è‰² å‘½ä»¤ å…·ä½“å‘½ä»¤ æ¥æ”¶è€… è°ƒç”¨è€… å®ç° /** * å‘½ä»¤æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 15:45:00 */ public class CommandMain { public static void main(String[] args) { Light light = new Light(); Command lightOnCommand = new LightOnCommand(light); RemoteControl remoteControl = new RemoteControl(); remoteControl.setCommand(lightOnCommand); remoteControl.pressButton(); // Output: Light is on. } } // å‘½ä»¤æ¥å£ interface Command { void execute(); } // å…·ä½“å‘½ä»¤ï¼Œæ§åˆ¶ç¯å¼€å¯ class LightOnCommand implements Command { private Light light; public LightOnCommand(Light light) { this.light = light; } public void execute() { light.turnOn(); } } // æ¥æ”¶è€…ï¼Œç¯ class Light { public void turnOn() { System.out.println(\"Light is on.\"); } public void turnOff() { System.out.println(\"Light is off.\"); } } // è°ƒç”¨è€…ï¼Œé¥æ§å™¨ class RemoteControl { private Command command; public void setCommand(Command command) { this.command = command; } public void pressButton() { command.execute(); } } ä½¿ç”¨åœºæ™¯ MVCå…¸å‹çš„å‘½ä»¤æ¨¡å¼ å®å‘½ä»¤ï¼šå¤šä¸ªserviceç»“åˆ è¿­ä»£å™¨æ¨¡å¼ å®ƒæä¾›ä¸€ç§é¡ºåºè®¿é—®é›†åˆï¼ˆæˆ–å®¹å™¨ï¼‰ä¸­çš„å…ƒç´ ï¼Œè€Œæ— éœ€æš´éœ²é›†åˆçš„å†…éƒ¨è¡¨ç¤ºã€‚è¿­ä»£å™¨æ¨¡å¼å°†éå†ç®—æ³•ä¸é›†åˆåˆ†ç¦»ï¼Œä½¿å¾—éå†å¯ä»¥ç‹¬ç«‹äºé›†åˆè€Œå˜åŒ–ã€‚\nè§’è‰² è¿­ä»£å™¨ å…·ä½“è¿­ä»£å™¨ é›†åˆ å…·ä½“é›†åˆ è¿­ä»£å™¨æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†é›†åˆå’Œéå†ç®—æ³•è§£è€¦ï¼Œä½¿å¾—éå†è¿‡ç¨‹ç‹¬ç«‹äºé›†åˆï¼Œå¹¶èƒ½å¤Ÿæ”¯æŒå¤šç§ä¸åŒçš„éå†æ–¹å¼ã€‚é€šè¿‡è¿­ä»£å™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸çŸ¥é“é›†åˆå†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿè®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°åˆ‡æ¢ä¸åŒçš„éå†æ–¹å¼\nå®ç° import java.util.ArrayList; import java.util.List; /** * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 15:51:00 */ public class IteratorMain { public static void main(String[] args) { List\u003cString\u003e names = new ArrayList\u003c\u003e(); names.add(\"Alice\"); names.add(\"Bob\"); names.add(\"Charlie\"); Collection\u003cString\u003e collection = new ListCollection\u003c\u003e(names); Iterator\u003cString\u003e iterator = collection.getIterator(); while (iterator.hasNext()) { String name = iterator.next(); System.out.println(name); // Output: Alice, Bob, Charlie } } } // è¿­ä»£å™¨æ¥å£ interface Iterator\u003cT\u003e { boolean hasNext(); T next(); } // å…·ä½“è¿­ä»£å™¨ class ListIterator\u003cT\u003e implements Iterator\u003cT\u003e { private List\u003cT\u003e list; private int index; public ListIterator(List\u003cT\u003e list) { this.list = list; this.index = 0; } public boolean hasNext() { return index \u003c list.size(); } public T next() { if (hasNext()) { T item = list.get(index); index++; return item; } return null; } } // é›†åˆæ¥å£ interface Collection\u003cT\u003e { Iterator\u003cT\u003e getIterator(); } // å…·ä½“é›†åˆ class ListCollection\u003cT\u003e implements Collection\u003cT\u003e { private List\u003cT\u003e list; public ListCollection(List\u003cT\u003e list) { this.list = list; } public Iterator\u003cT\u003e getIterator() { return new ListIterator\u003cT\u003e(list); } } è®¿é—®è€…æ¨¡å¼ ç”¨äºåœ¨ä¸ä¿®æ”¹å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œä¸ºå¯¹è±¡ç»“æ„ä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›ä¸€ç§ç‰¹å®šçš„è®¿é—®æ–¹å¼ã€‚å®ƒå°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œåˆ†ç¦»ï¼Œä½¿å¾—æ–°å¢æ“ä½œï¼ˆè®¿é—®è€…ï¼‰å¯ä»¥ç‹¬ç«‹äºæ•°æ®ç»“æ„è¿›è¡Œæ‰©å±•ã€‚\nè§’è‰² è®¿é—®è€… å…·ä½“è®¿é—®è€… å…ƒç´  å…·ä½“å…ƒç´  å¯¹è±¡ç»“æ„ é€‚ç”¨åœºæ™¯ è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼Œè¿åä¾èµ–å€’ç½®åŸåˆ™ï¼Œä½¿ç”¨æ¡ä»¶å—é™ å®ç° import java.util.ArrayList; import java.util.List; /** * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 15:56:00 */ public class VisitorMain { public static void main(String[] args) { ObjectStructure objectStructure = new ObjectStructure(); objectStructure.addElement(new ConcreteElementA()); objectStructure.addElement(new ConcreteElementB()); Visitor visitor = new ConcreteVisitor(); objectStructure.accept(visitor); } } // è®¿é—®è€…æ¥å£ interface Visitor { void visit(ConcreteElementA element); void visit(ConcreteElementB element); } // å…·ä½“è®¿é—®è€… class ConcreteVisitor implements Visitor { public void visit(ConcreteElementA element) { System.out.println(\"Visit ConcreteElementA.\"); } public void visit(ConcreteElementB element) { System.out.println(\"Visit ConcreteElementB.\"); } } // å…ƒç´ æ¥å£ interface Element { void accept(Visitor visitor); } // å…·ä½“å…ƒç´ A class ConcreteElementA implements Element { public void accept(Visitor visitor) { visitor.visit(this); } } // å…·ä½“å…ƒç´ B class ConcreteElementB implements Element { public void accept(Visitor visitor) { visitor.visit(this); } } // å¯¹è±¡ç»“æ„ class ObjectStructure { private List\u003cElement\u003e elements = new ArrayList\u003c\u003e(); public void addElement(Element element) { elements.add(element); } public void accept(Visitor visitor) { for (Element element : elements) { element.accept(visitor); } } } è´£ä»»é“¾æ¨¡å¼ å…è®¸å°†è¯·æ±‚ä»ä¸€ä¸ªå¤„ç†è€…ä¼ é€’ç»™å¦ä¸€ä¸ªå¤„ç†è€…ï¼Œç›´åˆ°è¯·æ±‚è¢«å¤„ç†ä¸ºæ­¢ã€‚è´£ä»»é“¾æ¨¡å¼å°†è¯·æ±‚å’Œå¤„ç†è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¤„ç†è€…éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œè€Œä¸æ˜¯ç”±ä¸€ä¸ªå¤„ç†è€…ç‹¬è‡ªå¤„ç†\nè§’è‰² å¤„ç†è€… å…·ä½“å¤„ç†è€… å®¢æˆ·ç«¯ å®ç° /** * è´£ä»»é“¾æ¨¡å¼ * * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 16:00:00 */ public class HandleChainMain { public static void main(String[] args) { ConcreteHandlerA handlerA = new ConcreteHandlerA(); ConcreteHandlerB handlerB = new ConcreteHandlerB(); ConcreteHandlerC handlerC = new ConcreteHandlerC(); handlerA.setNextHandler(handlerB); handlerB.setNextHandler(handlerC); handlerA.handleRequest(50); // Output: ConcreteHandlerA handles the request. handlerA.handleRequest(200); // Output: ConcreteHandlerB handles the request. handlerA.handleRequest(600); // Output: ConcreteHandlerC handles the request. } } // å¤„ç†è€…æ¥å£ interface Handler { void handleRequest(int amount); } // å…·ä½“å¤„ç†è€…A class ConcreteHandlerA implements Handler { private Handler nextHandler; public void setNextHandler(Handler nextHandler) { this.nextHandler = nextHandler; } public void handleRequest(int amount) { if (amount \u003c= 100) { System.out.println(\"ConcreteHandlerA handles the request.\"); } else if (nextHandler != null) { nextHandler.handleRequest(amount); } } } // å…·ä½“å¤„ç†è€…B class ConcreteHandlerB implements Handler { private Handler nextHandler; public void setNextHandler(Handler nextHandler) { this.nextHandler = nextHandler; } public void handleRequest(int amount) { if (amount \u003e 100 \u0026\u0026 amount \u003c= 500) { System.out.println(\"ConcreteHandlerB handles the request.\"); } else if (nextHandler != null) { nextHandler.handleRequest(amount); } } } // å…·ä½“å¤„ç†è€…C class ConcreteHandlerC implements Handler { public void handleRequest(int amount) { if (amount \u003e 500) { System.out.println(\"ConcreteHandlerC handles the request.\"); } else { System.out.println(\"No handler can handle the request.\"); } } } å¤æ‚é“¾-å®ç° import java.util.ArrayList; import java.util.List; /** * æ‹¦æˆªé“¾ * * @author Alfred.Ning * @since 2023å¹´08æœˆ06æ—¥ 16:34:00 */ public class FilterMain { /** * * HttpFilter#doFilter æ‰§è¡Œä¹‹å‰ * CharacterFilter#doFilter æ‰§è¡Œä¹‹å‰ * EncodingFilter#doFilter æ‰§è¡Œä¹‹å‰ * ç›®æ ‡æ–¹æ³• \u003e\u003e\u003e\u003e\u003e æˆ‘è¢«applyäº† * EncodingFilter#doFilter æ‰§è¡Œä¹‹å * CharacterFilter#doFilter æ‰§è¡Œä¹‹å * HttpFilter#doFilter æ‰§è¡Œä¹‹å */ public static void main(String[] args) { FilterChain filterChain = new FilterChain(); filterChain.addFilter(new HttpFilter()); filterChain.addFilter(new CharacterFilter()); filterChain.addFilter(new EncodingFilter()); filterChain.setTarget(new MyTarget()); filterChain.doFilter(new Request(\"Request for test\"), new Response(\"Response for test\"), filterChain); } } // è´£ä»»é“¾æ‰§è¡Œå®Œæ¯•éœ€è¦æ‰§è¡Œçš„æ–¹æ³• interface Target { void apply(); } class MyTarget implements Target { @Override public void apply() { System.out.println(\"ç›®æ ‡æ–¹æ³• \u003e\u003e\u003e\u003e\u003e æˆ‘è¢«applyäº†\"); } } class HttpFilter implements Filter { @Override public void doFilter(Request request, Response response, FilterChain chain) { request.msg += \"======\"; System.out.println(\"HttpFilter#doFilter æ‰§è¡Œä¹‹å‰\"); chain.doFilter(request, response, chain); System.out.println(\"HttpFilter#doFilter æ‰§è¡Œä¹‹å\"); } } class CharacterFilter implements Filter { @Override public void doFilter(Request request, Response response, FilterChain chain) { request.msg += \"xxxxxx\"; System.out.println(\"CharacterFilter#doFilter æ‰§è¡Œä¹‹å‰\"); chain.doFilter(request, response, chain); System.out.println(\"CharacterFilter#doFilter æ‰§è¡Œä¹‹å\"); } } class EncodingFilter implements Filter { @Override public void doFilter(Request request, Response response, FilterChain chain) { request.msg += \"yyyyyyyy\"; System.out.println(\"EncodingFilter#doFilter æ‰§è¡Œä¹‹å‰\"); chain.doFilter(request, response, chain); System.out.println(\"EncodingFilter#doFilter æ‰§è¡Œä¹‹å\"); } } interface Filter { void doFilter(Request request, Response response, FilterChain filterChain); } class FilterChain implements Filter { List\u003cFilter\u003e filterChain = new ArrayList\u003c\u003e(); Target target; int cursor = 0; public void setTarget(Target target) { this.target = target; } public Target getTarget() { return target; } public void addFilter(Filter filter) { filterChain.add(filter); } @Override public void doFilter(Request request, Response response, FilterChain chain) { if (cursor \u003c filterChain.size()) { Filter filter = filterChain.get(cursor); cursor++; filter.doFilter(request, response, chain); } else { target.apply(); } } } class Response { String content; public Response(String content) { this.content = content; } } class Request { String msg; public Request(String msg) { this.msg = msg; } public String getMsg() { return msg; } } ","wordCount":"2060","inLanguage":"zh","datePublished":"2023-08-03T10:19:40+08:00","dateModified":"2023-09-16T13:50:50.155568366Z","author":[{"@type":"Person","name":"AlfredNing"}],"mainEntityOfPage":{"@type":"WebPage","@id":"https://AlfredNing.github.io/note/program/design_pattern/%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F/"},"publisher":{"@type":"Organization","name":"AlfredNing","logo":{"@type":"ImageObject","url":"https://AlfredNing.github.io/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://AlfredNing.github.io accesskey=h title="AlfredNing (Alt + H)">AlfredNing</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://AlfredNing.github.io/note/ title=ğŸ““ç¬”è®°><span>ğŸ““ç¬”è®°</span></a></li><li><a href=https://AlfredNing.github.io/thinking/ title=ğŸ¤”é»‘æ´><span>ğŸ¤”é»‘æ´</span></a></li><li><a href=https://AlfredNing.github.io/search/ title="ğŸ”æœç´¢ (Alt + /)" accesskey=/><span>ğŸ”æœç´¢</span></a></li><li><a href=https://AlfredNing.github.io/tags/ title=ğŸ·ï¸æ ‡ç­¾><span>ğŸ·ï¸æ ‡ç­¾</span></a></li><li><a href=https://AlfredNing.github.io/archives title=ğŸ—„ï¸å½’æ¡£><span>ğŸ—„ï¸å½’æ¡£</span></a></li><li><a href=https://AlfredNing.github.io/about title=ğŸ¤™å…³äº><span>ğŸ¤™å…³äº</span></a></li></ul></nav></header><main class="main page"><article class=post-single><div id=single-content><header class=post-header><div class=breadcrumbs><a href=https://AlfredNing.github.io>ä¸»é¡µ</a>&nbsp;Â»&nbsp;<a href=https://AlfredNing.github.io/note/>ç¬”è®°</a>&nbsp;Â»&nbsp;<a href=https://AlfredNing.github.io/note/program/>ç¼–ç¨‹</a>&nbsp;Â»&nbsp;<a href=https://AlfredNing.github.io/note/program/design_pattern/>è®¾è®¡æ¨¡å¼</a></div><h1 class=post-title>è¡Œä¸ºæ¨¡å¼</h1><div class=post-meta>åˆ›å»º:&nbsp;<span title='2023-08-03 10:19:40 +0800 +0800'>2023å¹´-08æœˆ-03æ—¥</span>&nbsp;|&nbsp;æ›´æ–°:&nbsp;2023å¹´-09æœˆ-16æ—¥&nbsp;|&nbsp;å­—æ•°:&nbsp;2060å­—&nbsp;|&nbsp;æ—¶é•¿:&nbsp;10åˆ†é’Ÿ&nbsp;|&nbsp;AlfredNing
&nbsp;|&nbsp;æ ‡ç­¾: &nbsp;<ul class=post-tags-meta><a href=https://AlfredNing.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>è®¾è®¡æ¨¡å¼</a></ul></span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>ç›®å½•</span></summary><div class=inner><ul><li><a href=#%e5%ae%9a%e4%b9%89 aria-label=å®šä¹‰>å®šä¹‰</a></li><li><a href=#%e6%a8%a1%e6%9d%bf%e6%96%b9%e6%b3%95%e6%a8%a1%e5%bc%8f aria-label=æ¨¡æ¿æ–¹æ³•æ¨¡å¼>æ¨¡æ¿æ–¹æ³•æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af aria-label=é€‚ç”¨åœºæ™¯>é€‚ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e7%ad%96%e7%95%a5%e6%a8%a1%e5%bc%8f aria-label=ç­–ç•¥æ¨¡å¼>ç­–ç•¥æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-1 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-1 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e7%8a%b6%e6%80%81%e6%a8%a1%e5%bc%8f aria-label=çŠ¶æ€æ¨¡å¼>çŠ¶æ€æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-2 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af-1 aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-2 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e4%b8%ad%e4%bb%8b%e8%80%85%e6%a8%a1%e5%bc%8f aria-label=ä¸­ä»‹è€…æ¨¡å¼>ä¸­ä»‹è€…æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-3 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af-2 aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-3 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e8%a7%82%e5%af%9f%e8%80%85%e6%a8%a1%e5%bc%8f aria-label=è§‚å¯Ÿè€…æ¨¡å¼>è§‚å¯Ÿè€…æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-4 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af-3 aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-4 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e5%a4%87%e5%bf%98%e5%bd%95%e6%a8%a1%e5%bc%8f aria-label=å¤‡å¿˜å½•æ¨¡å¼>å¤‡å¿˜å½•æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-5 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af-1 aria-label=é€‚ç”¨åœºæ™¯>é€‚ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-5 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e8%a7%a3%e9%87%8a%e5%99%a8%e6%a8%a1%e5%bc%8f aria-label=è§£é‡Šå™¨æ¨¡å¼>è§£é‡Šå™¨æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-6 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af-4 aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li></ul></li><li><a href=#%e5%91%bd%e4%bb%a4%e6%a8%a1%e5%bc%8f aria-label=å‘½ä»¤æ¨¡å¼>å‘½ä»¤æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-7 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-6 aria-label=å®ç°>å®ç°</a></li><li><a href=#%e4%bd%bf%e7%94%a8%e5%9c%ba%e6%99%af-5 aria-label=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯</a></li></ul></li><li><a href=#%e8%bf%ad%e4%bb%a3%e5%99%a8%e6%a8%a1%e5%bc%8f aria-label=è¿­ä»£å™¨æ¨¡å¼>è¿­ä»£å™¨æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-8 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-7 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e8%ae%bf%e9%97%ae%e8%80%85%e6%a8%a1%e5%bc%8f aria-label=è®¿é—®è€…æ¨¡å¼>è®¿é—®è€…æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-9 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e9%80%82%e7%94%a8%e5%9c%ba%e6%99%af-2 aria-label=é€‚ç”¨åœºæ™¯>é€‚ç”¨åœºæ™¯</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-8 aria-label=å®ç°>å®ç°</a></li></ul></li><li><a href=#%e8%b4%a3%e4%bb%bb%e9%93%be%e6%a8%a1%e5%bc%8f aria-label=è´£ä»»é“¾æ¨¡å¼>è´£ä»»é“¾æ¨¡å¼</a><ul><li><a href=#%e8%a7%92%e8%89%b2-10 aria-label=è§’è‰²>è§’è‰²</a></li><li><a href=#%e5%ae%9e%e7%8e%b0-9 aria-label=å®ç°>å®ç°</a></li><li><a href=#%e5%a4%8d%e6%9d%82%e9%93%be-%e5%ae%9e%e7%8e%b0 aria-label=å¤æ‚é“¾-å®ç°>å¤æ‚é“¾-å®ç°</a></li></ul></li></ul></div></details></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><h1 id=å®šä¹‰>å®šä¹‰<a hidden class=anchor aria-hidden=true href=#å®šä¹‰>#</a></h1><ul><li>å…³æ³¨ç‚¹åœ¨äºâ€œæ€æ ·è¿è¡Œå¯¹è±¡å’Œç±»â€</li><li>ç”¨æˆ·æè¿°ç¨‹åºåœ¨è¿è¡Œæ—¶å¤æ‚çš„æµç¨‹æ§åˆ¶</li><li>ç±»è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»§æ‰¿æœºåˆ¶ï¼Œå¯¹è±¡è¡Œä¸ºæ¨¡å¼ï¼šé‡‡ç”¨ç»„åˆæˆ–èšåˆåœ¨å¯¹è±¡ä¹‹é—´åˆ†é…è¡Œä¸º</li></ul><h1 id=æ¨¡æ¿æ–¹æ³•æ¨¡å¼>æ¨¡æ¿æ–¹æ³•æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#æ¨¡æ¿æ–¹æ³•æ¨¡å¼>#</a></h1><p>å®šä¹‰ç®—æ³•æ¡†æ¶ï¼Œç®—æ³•å…·ä½“æ¶‰åŠçš„ç›¸å…³æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚æ¨¡æ¿æ–¹æ³•æ¨¡å¼å…è®¸åœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡å­ç±»æ¥é‡æ–°å®šä¹‰ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ã€‚</p><h2 id=è§’è‰²>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²>#</a></h2><ul><li>æ¨¡æ¿ç±»</li><li>å…·ä½“å­ç±»</li></ul><h2 id=é€‚ç”¨åœºæ™¯>é€‚ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#é€‚ç”¨åœºæ™¯>#</a></h2><ul><li>å½“æœ‰ä¸€ä¸ªç®—æ³•çš„æ¡†æ¶éœ€è¦ç¨³å®šä¸å˜ï¼Œä½†å…¶ä¸­çš„æŸäº›æ­¥éª¤éœ€è¦æ ¹æ®ä¸åŒæƒ…å†µè¿›è¡Œå®šåˆ¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€‚</li><li>å½“å¸Œæœ›é€šè¿‡å­ç±»æ¥æ‰©å±•ç®—æ³•çš„ç‰¹å®šæ­¥éª¤ï¼Œè€Œä¸æ˜¯æ•´ä¸ªç®—æ³•æ—¶ï¼Œæ¨¡æ¿æ–¹æ³•æ¨¡å¼éå¸¸æœ‰ç”¨ã€‚</li><li>Springçš„BeanFactory, Javaçš„Servlet</li></ul><h2 id=å®ç°>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>package</span> <span class=nn>design_patterns</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ¨¡æ¿æ–¹æ³•æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ03æ—¥ 10:32:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>TemplateMethodMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Chess</span> <span class=n>chess</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Chess</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>chess</span><span class=o>.</span><span class=na>play</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>new</span> <span class=n>Monopoly</span><span class=o>().</span><span class=na>play</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ¨¡æ¿ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>Game</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>initialize</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>startGame</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>endGame</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>final</span> <span class=kt>void</span> <span class=nf>play</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>initialize</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>startGame</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>endGame</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“æ¸¸æˆç±» - å›½é™…è±¡æ£‹
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Chess</span> <span class=kd>extends</span> <span class=n>Game</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>initialize</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;åˆå§‹åŒ–å›½é™…è±¡æ£‹æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>startGame</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;å¼€å§‹å›½é™…è±¡æ£‹æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>endGame</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ç»“æŸå›½é™…è±¡æ£‹æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“æ¸¸æˆç±» - å¤§å¯Œç¿
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Monopoly</span> <span class=kd>extends</span> <span class=n>Game</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>initialize</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;åˆå§‹åŒ–å¤§å¯Œç¿æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>startGame</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;å¼€å§‹å¤§å¯Œç¿æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>endGame</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ç»“æŸå¤§å¯Œç¿æ¸¸æˆ&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=ç­–ç•¥æ¨¡å¼>ç­–ç•¥æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#ç­–ç•¥æ¨¡å¼>#</a></h1><ul><li>å®¢æˆ·ç«¯å’Œç®—æ³•ä¹‹é—´ç›¸äº’è§£è€¦</li><li>å®¢æˆ·ç«¯è¿è¡Œæ—¶é€‰æ‹©ä¸åŒçš„ç®—æ³•ï¼Œæ— éœ€ä¿®æ”¹ä»£ç </li></ul><h2 id=è§’è‰²-1>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-1>#</a></h2><ul><li>ç­–ç•¥æ¥å£</li><li>å…·ä½“ç­–ç•¥ç±»</li><li>ä¸Šä¸‹æ–‡ç±»</li></ul><h2 id=ä½¿ç”¨åœºæ™¯>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯>#</a></h2><ul><li>å½“ä¸€ä¸ªç±»æœ‰å¤šç§ç®—æ³•æˆ–è¡Œä¸ºï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°é€‰æ‹©å…¶ä¸­ä¸€ç§æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç­–ç•¥æ¨¡å¼ã€‚</li><li>å½“ä¸€ä¸ªç±»çš„ç®—æ³•æ¶‰åŠå¤æ‚çš„æ¡ä»¶è¯­å¥ï¼Œå¯ä»¥é€šè¿‡ç­–ç•¥æ¨¡å¼å°†ä¸åŒçš„ç®—æ³•æŠ½è±¡å‡ºæ¥ï¼Œä½¿ä»£ç æ›´åŠ æ¸…æ™°å’Œå¯ç»´æŠ¤ã€‚</li><li>çº¿ç¨‹æ± çš„æ‹’ç»ç­–ç•¥</li></ul><h2 id=å®ç°-1>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-1>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * ç­–ç•¥æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ03æ—¥ 11:51:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>StrategyMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ShopCart</span> <span class=n>shoppingCart</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ShopCart</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>originalPrice</span> <span class=o>=</span> <span class=n>100</span><span class=o>.</span><span class=na>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è®¾ç½®æ™®é€šä¼šå‘˜ç­–ç•¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>shoppingCart</span><span class=o>.</span><span class=na>setDiscountStrategy</span><span class=o>(</span><span class=k>new</span> <span class=n>RegularCustomerDiscount</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>totalPriceForRegularCustomer</span> <span class=o>=</span> <span class=n>shoppingCart</span><span class=o>.</span><span class=na>calculateTotalPrice</span><span class=o>(</span><span class=n>originalPrice</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Total price for regular customer: &#34;</span> <span class=o>+</span> <span class=n>totalPriceForRegularCustomer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è®¾ç½®é«˜çº§ä¼šå‘˜ç­–ç•¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>shoppingCart</span><span class=o>.</span><span class=na>setDiscountStrategy</span><span class=o>(</span><span class=k>new</span> <span class=n>PremiumCustomerDiscount</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>totalPriceForPremiumCustomer</span> <span class=o>=</span> <span class=n>shoppingCart</span><span class=o>.</span><span class=na>calculateTotalPrice</span><span class=o>(</span><span class=n>originalPrice</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Total price for premium customer: &#34;</span> <span class=o>+</span> <span class=n>totalPriceForPremiumCustomer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// è®¾ç½®è¶…çº§ä¼šå‘˜ç­–ç•¥
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>shoppingCart</span><span class=o>.</span><span class=na>setDiscountStrategy</span><span class=o>(</span><span class=k>new</span> <span class=n>SuperCustomerDiscount</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>totalPriceForSuperCustomer</span> <span class=o>=</span> <span class=n>shoppingCart</span><span class=o>.</span><span class=na>calculateTotalPrice</span><span class=o>(</span><span class=n>originalPrice</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Total price for super customer: &#34;</span> <span class=o>+</span> <span class=n>totalPriceForSuperCustomer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä¸Šä¸‹æ–‡
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ShopCart</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>DiscountStrategy</span> <span class=n>discountStrategy</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setDiscountStrategy</span><span class=o>(</span><span class=n>DiscountStrategy</span> <span class=n>discountStrategy</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>discountStrategy</span> <span class=o>=</span> <span class=n>discountStrategy</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>double</span> <span class=nf>calculateTotalPrice</span><span class=o>(</span><span class=kt>double</span> <span class=n>originPrice</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>discountStrategy</span><span class=o>.</span><span class=na>applyDiscount</span><span class=o>(</span><span class=n>originPrice</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç­–ç•¥æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>DiscountStrategy</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>double</span> <span class=nf>applyDiscount</span><span class=o>(</span><span class=kt>double</span> <span class=n>originPrice</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ™®é€šä¼šå‘˜å®ç°
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>RegularCustomerDiscount</span> <span class=kd>implements</span> <span class=n>DiscountStrategy</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>double</span> <span class=nf>applyDiscount</span><span class=o>(</span><span class=kt>double</span> <span class=n>originPrice</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>originPrice</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// é«˜çº§ä¼šå‘˜æŠ˜æ‰£ç­–ç•¥
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>PremiumCustomerDiscount</span> <span class=kd>implements</span> <span class=n>DiscountStrategy</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>double</span> <span class=nf>applyDiscount</span><span class=o>(</span><span class=kt>double</span> <span class=n>originalPrice</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// é«˜çº§ä¼šå‘˜äº«å—9æŠ˜ä¼˜æƒ 
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=n>originalPrice</span> <span class=o>*</span> <span class=n>0</span><span class=o>.</span><span class=na>9</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¶…çº§ä¼šå‘˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>SuperCustomerDiscount</span> <span class=kd>implements</span> <span class=n>DiscountStrategy</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>double</span> <span class=nf>applyDiscount</span><span class=o>(</span><span class=kt>double</span> <span class=n>originPrice</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>originPrice</span> <span class=o>*</span> <span class=n>0</span><span class=o>.</span><span class=na>8</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=çŠ¶æ€æ¨¡å¼>çŠ¶æ€æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#çŠ¶æ€æ¨¡å¼>#</a></h1><p>å®ƒå…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜å…¶è¡Œä¸ºï¼Œä½¿å¾—å¯¹è±¡çœ‹èµ·æ¥å¥½åƒä¿®æ”¹äº†å…¶ç±»ã€‚çŠ¶æ€æ¨¡å¼å°†å¯¹è±¡çš„è¡Œä¸ºåŒ…è£…åœ¨ä¸åŒçš„çŠ¶æ€å¯¹è±¡ä¸­ï¼Œä½¿å¾—å¯¹è±¡çš„è¡Œä¸ºå¯ä»¥æ ¹æ®å†…éƒ¨çŠ¶æ€çš„æ”¹å˜è€Œæ”¹å˜ï¼Œè€Œæ— éœ€ä¿®æ”¹å¯¹è±¡æœ¬èº«çš„ä»£ç ã€‚</p><p><strong>ä¸ç­–ç•¥æ¨¡å¼æœ€å¤§çš„ä¸åŒåœ¨äºå†…éƒ¨å­˜åœ¨çŠ¶æ€çš„æ”¹å˜</strong></p><h2 id=è§’è‰²-2>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-2>#</a></h2><ul><li>ç¯å¢ƒç±»</li><li>çŠ¶æ€æ¥å£</li><li>å…·ä½“çŠ¶æ€ç±»</li></ul><h2 id=ä½¿ç”¨åœºæ™¯-1>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯-1>#</a></h2><ul><li>å½“ä¸€ä¸ªå¯¹è±¡çš„è¡Œä¸ºå–å†³äºå®ƒçš„çŠ¶æ€ï¼Œå¹¶ä¸”å¯¹è±¡çš„çŠ¶æ€å¯èƒ½åœ¨è¿è¡Œæ—¶å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼ã€‚</li><li>å½“å¯¹è±¡æœ‰å¾ˆå¤šçŠ¶æ€ï¼Œå¹¶ä¸”æ¯ä¸ªçŠ¶æ€ä¸‹æœ‰ä¸åŒçš„è¡Œä¸ºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥å°è£…çŠ¶æ€çš„è¡Œä¸ºï¼Œä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°å’Œæ˜“äºæ‰©å±•ã€‚</li></ul><h2 id=å®ç°-2>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-2>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * çŠ¶æ€æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ03æ—¥ 12:08:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>StateMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Elevator</span> <span class=n>elevator</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Elevator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>goUp</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>pause</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>setCurrentState</span><span class=o>(</span><span class=k>new</span> <span class=n>RunningState</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>goUp</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>goDown</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>setCurrentState</span><span class=o>(</span><span class=k>new</span> <span class=n>StopState</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>elevator</span><span class=o>.</span><span class=na>pause</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ç¯å¢ƒç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Elevator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>ElevatorState</span> <span class=n>currentState</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>Elevator</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>currentState</span> <span class=o>=</span> <span class=k>new</span> <span class=n>StopState</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setCurrentState</span><span class=o>(</span><span class=n>ElevatorState</span> <span class=n>currentState</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>currentState</span> <span class=o>=</span> <span class=n>currentState</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goUp</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>currentState</span><span class=o>.</span><span class=na>goUp</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goDown</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>currentState</span><span class=o>.</span><span class=na>goDown</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>pause</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>currentState</span><span class=o>.</span><span class=na>pause</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// çŠ¶æ€æ¥å£ - ç”µæ¢¯
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>ElevatorState</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>goUp</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>goDown</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>pause</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åœæ­¢çŠ¶æ€
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>StopState</span> <span class=kd>implements</span> <span class=n>ElevatorState</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goUp</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is going up.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goDown</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is going down.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>pause</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is paused.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¿è¡ŒçŠ¶æ€
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>RunningState</span> <span class=kd>implements</span> <span class=n>ElevatorState</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goUp</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is already going up.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goDown</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is already going down.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>pause</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator cannot pause while running.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æš‚åœçŠ¶æ€
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>PauseState</span> <span class=kd>implements</span> <span class=n>ElevatorState</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goUp</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is going up from pause state.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>goDown</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is going down from pause state.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>pause</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Elevator is already paused.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=ä¸­ä»‹è€…æ¨¡å¼>ä¸­ä»‹è€…æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#ä¸­ä»‹è€…æ¨¡å¼>#</a></h1><p>é€šè¿‡å°è£…ä¸€ç³»åˆ—å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œå°†å¯¹è±¡ä¹‹é—´çš„è€¦åˆè§£è€¦ï¼Œä»è€Œä½¿å¾—å¯¹è±¡ä¹‹é—´çš„é€šä¿¡æ›´åŠ ç®€å•å’Œçµæ´»ã€‚</p><p>ä¸­ä»‹è€…æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†å¯¹è±¡ä¹‹é—´çš„é€šä¿¡å°è£…åœ¨ä¸€ä¸ªä¸­ä»‹è€…ä¸­ï¼Œä½¿å¾—å¯¹è±¡ä¹‹é—´ä¸å†ç›´æ¥äº¤äº’ï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹è€…æ¥è¿›è¡Œé€šä¿¡ã€‚è¿™æ ·å¯ä»¥é™ä½å¯¹è±¡ä¹‹é—´çš„è€¦åˆåº¦ï¼Œä½¿å¾—ç³»ç»Ÿæ›´åŠ çµæ´»å’Œå¯ç»´æŠ¤ã€‚</p><h2 id=è§’è‰²-3>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-3>#</a></h2><ul><li>ä¸­ä»‹è€…</li><li>å…·ä½“ä¸­ä»‹è€…</li><li>æŠ½è±¡åŒäº‹ç±»</li><li>å…·ä½“åŒäº‹ç±»</li></ul><h2 id=ä½¿ç”¨åœºæ™¯-2>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯-2>#</a></h2><ul><li>å½“ä¸€ä¸ªå¯¹è±¡å’Œå…¶ä»–å¯¹è±¡ä¹‹é—´å­˜åœ¨å¤æ‚çš„äº¤äº’å…³ç³»ï¼Œå¯¼è‡´è€¦åˆåº¦è¾ƒé«˜æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥ç®€åŒ–å¯¹è±¡ä¹‹é—´çš„é€šä¿¡ã€‚</li><li>å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦å’Œå¤šä¸ªå…¶ä»–å¯¹è±¡è¿›è¡Œé€šä¿¡ï¼Œè€Œä¸”æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œå¯ä»¥ä½¿ç”¨ä¸­ä»‹è€…æ¨¡å¼æ¥å°è£…å¯¹è±¡ä¹‹é—´çš„äº¤äº’é€»è¾‘ã€‚</li></ul><h2 id=å®ç°-3>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-3>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ03æ—¥ 12:45:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MediatorMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ChatRoom</span> <span class=n>chatRoom</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ChatRoom</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>ChatUser</span> <span class=n>u1</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ChatUser</span><span class=o>(</span><span class=n>chatRoom</span><span class=o>,</span> <span class=s>&#34;user01&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>chatRoom</span><span class=o>.</span><span class=na>addUser</span><span class=o>(</span><span class=n>u1</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>chatRoom</span><span class=o>.</span><span class=na>addUser</span><span class=o>(</span><span class=k>new</span> <span class=n>ChatUser</span><span class=o>(</span><span class=n>chatRoom</span><span class=o>,</span> <span class=s>&#34;user02&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>    <span class=n>chatRoom</span><span class=o>.</span><span class=na>addUser</span><span class=o>(</span><span class=k>new</span> <span class=n>ChatUser</span><span class=o>(</span><span class=n>chatRoom</span><span class=o>,</span> <span class=s>&#34;user03&#34;</span><span class=o>));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>u1</span><span class=o>.</span><span class=na>sendMessage</span><span class=o>(</span><span class=s>&#34;Hello everyOne&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä¸­ä»‹è€…æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>ChatMediator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>sendMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>,</span> <span class=n>User</span> <span class=n>user</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æŠ½è±¡åŒäº‹ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>abstract</span> <span class=kd>class</span> <span class=nc>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>protected</span> <span class=n>ChatMediator</span> <span class=n>mediator</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>protected</span> <span class=n>String</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>User</span><span class=o>(</span><span class=n>ChatMediator</span> <span class=n>mediator</span><span class=o>,</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>mediator</span> <span class=o>=</span> <span class=n>mediator</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>name</span> <span class=o>=</span> <span class=n>name</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>sendMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>abstract</span> <span class=kt>void</span> <span class=nf>receiveMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“ä¸­ä»‹è€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ChatRoom</span> <span class=kd>implements</span> <span class=n>ChatMediator</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>User</span><span class=o>&gt;</span> <span class=n>users</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>ChatRoom</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>users</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>sendMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>,</span> <span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>User</span> <span class=n>u</span> <span class=o>:</span> <span class=n>users</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=o>(</span><span class=n>u</span> <span class=o>!=</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>u</span><span class=o>.</span><span class=na>receiveMessage</span><span class=o>(</span><span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>addUser</span><span class=o>(</span><span class=n>User</span> <span class=n>user</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>users</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>user</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“åŒäº‹ç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ChatUser</span> <span class=kd>extends</span> <span class=n>User</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>ChatUser</span><span class=o>(</span><span class=n>ChatMediator</span> <span class=n>chatMediator</span><span class=o>,</span> <span class=n>String</span> <span class=n>name</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>super</span><span class=o>(</span><span class=n>chatMediator</span><span class=o>,</span> <span class=n>name</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>sendMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>name</span> <span class=o>+</span> <span class=s>&#34; å‘é€æ¶ˆæ¯: &#34;</span> <span class=o>+</span> <span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>mediator</span><span class=o>.</span><span class=na>sendMessage</span><span class=o>(</span><span class=n>message</span><span class=o>,</span> <span class=k>this</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>receiveMessage</span><span class=o>(</span><span class=n>String</span> <span class=n>message</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>name</span> <span class=o>+</span> <span class=s>&#34; æ¥æ”¶æ¶ˆæ¯: &#34;</span> <span class=o>+</span> <span class=n>message</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=è§‚å¯Ÿè€…æ¨¡å¼>è§‚å¯Ÿè€…æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è§‚å¯Ÿè€…æ¨¡å¼>#</a></h1><p>å®šä¹‰å¯¹è±¡çš„ä¸€å¯¹å¤šä¾èµ–å…³ç³»ï¼Œä½¿å¾—æ¯å½“ä¸€ä¸ªå¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡å¾—åˆ°é€šçŸ¥å¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚å‘å¸ƒ-è®¢é˜…ï¼Œæ¨¡å‹-è§†å›¾</p><h2 id=è§’è‰²-4>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-4>#</a></h2><ul><li>ä¸»é¢˜</li><li>å…·ä½“ä¸»é¢˜</li><li>è§‚å¯Ÿè€…</li><li>å…·ä½“è§‚å¯Ÿè€…</li></ul><h2 id=ä½¿ç”¨åœºæ™¯-3>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯-3>#</a></h2><ul><li>å½“ä¸€ä¸ªå¯¹è±¡çš„æ”¹å˜éœ€è¦åŒæ—¶æ”¹å˜å…¶ä»–å¯¹è±¡çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li><li>å½“ä¸€ä¸ªå¯¹è±¡å¿…é¡»é€šçŸ¥å…¶ä»–å¯¹è±¡ï¼Œä½†åˆå¸Œæœ›å°½é‡é¿å…ä¸è¢«é€šçŸ¥å¯¹è±¡ä¹‹é—´çš„è€¦åˆæ—¶ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ã€‚</li><li>å½“ä¸€ä¸ªæŠ½è±¡æ¨¡å‹æœ‰ä¸¤ä¸ªæ–¹é¢ï¼Œå…¶ä¸­ä¸€ä¸ªæ–¹é¢ä¾èµ–äºå¦ä¸€ä¸ªæ–¹é¢ï¼Œå¯ä»¥ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼å°†è¿™ä¸¤è€…è§£è€¦ã€‚</li><li>Springäº‹ä»¶æœºåˆ¶ã€Vueçš„åŒå‘ç»‘å®šã€å“åº”å¼ç¼–ç¨‹</li></ul><h2 id=å®ç°-4>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-4>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * è§‚å¯Ÿè€…æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ03æ—¥ 13:22:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>ObserverMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>WeatherStation</span> <span class=n>weatherStation</span> <span class=o>=</span> <span class=k>new</span> <span class=n>WeatherStation</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>DisplayBoard</span> <span class=n>displayBoard</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DisplayBoard</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Logger</span> <span class=n>logger</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Logger</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>weatherStation</span><span class=o>.</span><span class=na>addObserver</span><span class=o>(</span><span class=n>logger</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>weatherStation</span><span class=o>.</span><span class=na>addObserver</span><span class=o>(</span><span class=n>displayBoard</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>weatherStation</span><span class=o>.</span><span class=na>setTemperature</span><span class=o>(</span><span class=n>25</span><span class=o>.</span><span class=na>6f</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è§‚å¯Ÿè€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Observer</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>update</span><span class=o>(</span><span class=kt>float</span> <span class=n>temperature</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“è§‚å¯Ÿè€… - æ˜¾ç¤ºæ¿
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>DisplayBoard</span> <span class=kd>implements</span> <span class=n>Observer</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>update</span><span class=o>(</span><span class=kt>float</span> <span class=n>temperature</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;DisplayBoard Temperature updated to &#34;</span> <span class=o>+</span> <span class=n>temperature</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“è§‚å¯Ÿè€… - æ—¥å¿—
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Logger</span> <span class=kd>implements</span> <span class=n>Observer</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>update</span><span class=o>(</span><span class=kt>float</span> <span class=n>temperature</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Logger: Temperature updated to &#34;</span> <span class=o>+</span> <span class=n>temperature</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ä¸»é¢˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Subject</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>addObserver</span><span class=o>(</span><span class=n>Observer</span> <span class=n>observer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>removeObserver</span><span class=o>(</span><span class=n>Observer</span> <span class=n>observer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>notifyObserver</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“ä¸»é¢˜
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>WeatherStation</span> <span class=kd>implements</span> <span class=n>Subject</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Observer</span><span class=o>&gt;</span> <span class=n>observers</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>float</span> <span class=n>temperature</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>WeatherStation</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>observers</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setTemperature</span><span class=o>(</span><span class=kt>float</span> <span class=n>temperature</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>temperature</span> <span class=o>=</span> <span class=n>temperature</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>notifyObserver</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>addObserver</span><span class=o>(</span><span class=n>Observer</span> <span class=n>observer</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>observers</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>observer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>removeObserver</span><span class=o>(</span><span class=n>Observer</span> <span class=n>observer</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>observers</span><span class=o>.</span><span class=na>remove</span><span class=o>(</span><span class=n>observer</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>notifyObserver</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Observer</span> <span class=n>observer</span> <span class=o>:</span> <span class=n>observers</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>observer</span><span class=o>.</span><span class=na>update</span><span class=o>(</span><span class=k>this</span><span class=o>.</span><span class=na>temperature</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=å¤‡å¿˜å½•æ¨¡å¼>å¤‡å¿˜å½•æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#å¤‡å¿˜å½•æ¨¡å¼>#</a></h1><p>ä¸ç ´åå¯¹è±¡å°è£…çš„å‰æä¸‹ï¼Œæ•è·å’Œå­˜å‚¨å¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶åœ¨éœ€è¦çš„æ—¶å€™æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€</p><h2 id=è§’è‰²-5>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-5>#</a></h2><ul><li>åŸå‘å™¨</li><li>å¤‡å¿˜å½•</li><li>è´Ÿè´£äºº</li></ul><h2 id=é€‚ç”¨åœºæ™¯-1>é€‚ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#é€‚ç”¨åœºæ™¯-1>#</a></h2><ul><li>å½“éœ€è¦ä¿å­˜å’Œæ¢å¤å¯¹è±¡çš„çŠ¶æ€ï¼Œå¹¶ä¸”ä¸å¸Œæœ›é€šè¿‡å…¬å…±æ¥å£æ¥æš´éœ²å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¤‡å¿˜å½•æ¨¡å¼ã€‚</li><li>å½“éœ€è¦å®ç°â€œæ’¤é”€â€åŠŸèƒ½æ—¶ï¼Œå¤‡å¿˜å½•æ¨¡å¼å¯ä»¥ä¿å­˜å†å²çŠ¶æ€å¹¶å…è®¸åœ¨éœ€è¦æ—¶æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€ã€‚</li><li>æ•°æ®åº“ä¿å­˜ç‚¹ï¼Œæ¸¸æˆå­˜æ¡£</li></ul><h2 id=å®ç°-5>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-5>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å¤‡å¿˜å½•æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 14:50:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>MementoMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>TextEditor</span> <span class=n>textEditor</span> <span class=o>=</span> <span class=k>new</span> <span class=n>TextEditor</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>MementoCareTaker</span> <span class=n>careTaker</span> <span class=o>=</span> <span class=k>new</span> <span class=n>MementoCareTaker</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>textEditor</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=s>&#34;text 01&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>careTaker</span><span class=o>.</span><span class=na>setMemento</span><span class=o>(</span><span class=n>textEditor</span><span class=o>.</span><span class=na>createTextMemento</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>textEditor</span><span class=o>.</span><span class=na>setText</span><span class=o>(</span><span class=s>&#34;text 02&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>careTaker</span><span class=o>.</span><span class=na>setMemento</span><span class=o>(</span><span class=n>textEditor</span><span class=o>.</span><span class=na>createTextMemento</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=c1>// è¾“å‡ºå½“å‰æ–‡æœ¬
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Current text: &#34;</span> <span class=o>+</span> <span class=n>textEditor</span><span class=o>.</span><span class=na>getText</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// æ¢å¤åˆ°ä¹‹å‰çš„çŠ¶æ€
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>textEditor</span><span class=o>.</span><span class=na>restoreFromMemento</span><span class=o>(</span><span class=n>careTaker</span><span class=o>.</span><span class=na>getMemento</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Restored text: &#34;</span> <span class=o>+</span> <span class=n>textEditor</span><span class=o>.</span><span class=na>getText</span><span class=o>());</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¤‡å¿˜å½•æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>TextMemento</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>String</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>TextMemento</span><span class=o>(</span><span class=n>String</span> <span class=n>text</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>text</span> <span class=o>=</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>String</span> <span class=nf>getText</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// åŸå‘å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>TextEditor</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>String</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>String</span> <span class=nf>getText</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setText</span><span class=o>(</span><span class=n>String</span> <span class=n>text</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>text</span> <span class=o>=</span> <span class=n>text</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>TextMemento</span> <span class=nf>createTextMemento</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>new</span> <span class=n>TextMemento</span><span class=o>(</span><span class=n>text</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>restoreFromMemento</span><span class=o>(</span><span class=n>TextMemento</span> <span class=n>memento</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>text</span> <span class=o>=</span> <span class=n>memento</span><span class=o>.</span><span class=na>getText</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è´Ÿè´£äººç±»
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>MementoCareTaker</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>TextMemento</span> <span class=n>memento</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>TextMemento</span> <span class=nf>getMemento</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>memento</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setMemento</span><span class=o>(</span><span class=n>TextMemento</span> <span class=n>memento</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>memento</span> <span class=o>=</span> <span class=n>memento</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=è§£é‡Šå™¨æ¨¡å¼>è§£é‡Šå™¨æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è§£é‡Šå™¨æ¨¡å¼>#</a></h1><p>ç”¨äºå®šä¹‰ä¸€ç§è¯­è¨€çš„è¯­æ³•è¡¨ç¤ºï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è§£é‡Šæ‰§è¡Œè¿™äº›è¯­æ³•è¡¨ç¤ºã€‚å®ƒé€‚ç”¨äºéœ€è¦å¤„ç†å¤æ‚çš„è¯­æ³•è§„åˆ™æˆ–è¡¨è¾¾å¼çš„æƒ…å†µï¼Œå°†è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡è§£é‡Šå™¨é€æ­¥è§£é‡Šæ‰§è¡Œã€‚</p><p>å®ƒå®šä¹‰äº†ä¸€ç§è¯­è¨€çš„è¯­æ³•è¡¨ç¤ºï¼Œå¹¶æä¾›ä¸€ç§æ–¹å¼æ¥è§£é‡Šæ‰§è¡Œè¿™äº›è¯­æ³•è¡¨ç¤ºã€‚è§£é‡Šå™¨æ¨¡å¼é€‚ç”¨äºéœ€è¦å¤„ç†å¤æ‚çš„è¯­æ³•è§„åˆ™æˆ–è¡¨è¾¾å¼çš„æƒ…å†µï¼Œé€šè¿‡å°†è¯­æ³•è§„åˆ™è¡¨ç¤ºä¸ºä¸€ä¸ªæŠ½è±¡è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡è§£é‡Šå™¨é€æ­¥è§£é‡Šæ‰§è¡Œï¼Œä»è€Œå®ç°å¯¹ç‰¹å®šè¯­è¨€çš„è§£é‡Šæ‰§è¡Œã€‚</p><h2 id=è§’è‰²-6>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-6>#</a></h2><ul><li>æŠ½è±¡è¡¨è¾¾å¼</li><li>ç»ˆç»“ç¬¦è¡¨è¾¾å¼</li><li>éç»ˆç»“ç¬¦è¡¨è¾¾å¼</li><li>ç¯å¢ƒï¼ˆContextï¼‰</li></ul><h2 id=ä½¿ç”¨åœºæ™¯-4>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯-4>#</a></h2><ul><li>Spelæ¨¡æ¿è§£æ</li><li>ç¼–è¯‘å™¨</li><li>ç¼–è¯‘åŸç†</li></ul><h1 id=å‘½ä»¤æ¨¡å¼>å‘½ä»¤æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#å‘½ä»¤æ¨¡å¼>#</a></h1><p>ç”¨äºå°†è¯·æ±‚æˆ–æ“ä½œå°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œä»è€Œå…è®¸å°†è¯·æ±‚è€…å’Œæ¥æ”¶è€…è§£è€¦ï¼Œå¹¶æ”¯æŒè¯·æ±‚çš„æ’é˜Ÿã€è®°å½•å’Œæ’¤é”€ç­‰åŠŸèƒ½ã€‚</p><h2 id=è§’è‰²-7>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-7>#</a></h2><ul><li>å‘½ä»¤</li><li>å…·ä½“å‘½ä»¤</li><li>æ¥æ”¶è€…</li><li>è°ƒç”¨è€…</li></ul><h2 id=å®ç°-6>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-6>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * å‘½ä»¤æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 15:45:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>CommandMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Light</span> <span class=n>light</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Light</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Command</span> <span class=n>lightOnCommand</span> <span class=o>=</span> <span class=k>new</span> <span class=n>LightOnCommand</span><span class=o>(</span><span class=n>light</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>RemoteControl</span> <span class=n>remoteControl</span> <span class=o>=</span> <span class=k>new</span> <span class=n>RemoteControl</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>remoteControl</span><span class=o>.</span><span class=na>setCommand</span><span class=o>(</span><span class=n>lightOnCommand</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>remoteControl</span><span class=o>.</span><span class=na>pressButton</span><span class=o>();</span> <span class=c1>// Output: Light is on.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å‘½ä»¤æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Command</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>execute</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å‘½ä»¤ï¼Œæ§åˆ¶ç¯å¼€å¯
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>LightOnCommand</span> <span class=kd>implements</span> <span class=n>Command</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Light</span> <span class=n>light</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>LightOnCommand</span><span class=o>(</span><span class=n>Light</span> <span class=n>light</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>light</span> <span class=o>=</span> <span class=n>light</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>execute</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>light</span><span class=o>.</span><span class=na>turnOn</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// æ¥æ”¶è€…ï¼Œç¯
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>Light</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>turnOn</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Light is on.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>turnOff</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Light is off.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è°ƒç”¨è€…ï¼Œé¥æ§å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>RemoteControl</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Command</span> <span class=n>command</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setCommand</span><span class=o>(</span><span class=n>Command</span> <span class=n>command</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>command</span> <span class=o>=</span> <span class=n>command</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>pressButton</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>command</span><span class=o>.</span><span class=na>execute</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=ä½¿ç”¨åœºæ™¯-5>ä½¿ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#ä½¿ç”¨åœºæ™¯-5>#</a></h2><ul><li>MVCå…¸å‹çš„å‘½ä»¤æ¨¡å¼</li><li>å®å‘½ä»¤ï¼šå¤šä¸ªserviceç»“åˆ</li></ul><h1 id=è¿­ä»£å™¨æ¨¡å¼>è¿­ä»£å™¨æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è¿­ä»£å™¨æ¨¡å¼>#</a></h1><p>å®ƒæä¾›ä¸€ç§é¡ºåºè®¿é—®é›†åˆï¼ˆæˆ–å®¹å™¨ï¼‰ä¸­çš„å…ƒç´ ï¼Œè€Œæ— éœ€æš´éœ²é›†åˆçš„å†…éƒ¨è¡¨ç¤ºã€‚è¿­ä»£å™¨æ¨¡å¼å°†éå†ç®—æ³•ä¸é›†åˆåˆ†ç¦»ï¼Œä½¿å¾—éå†å¯ä»¥ç‹¬ç«‹äºé›†åˆè€Œå˜åŒ–ã€‚</p><h2 id=è§’è‰²-8>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-8>#</a></h2><ul><li>è¿­ä»£å™¨</li><li>å…·ä½“è¿­ä»£å™¨</li><li>é›†åˆ</li><li>å…·ä½“é›†åˆ</li></ul><blockquote><p>è¿­ä»£å™¨æ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³æ˜¯å°†é›†åˆå’Œéå†ç®—æ³•è§£è€¦ï¼Œä½¿å¾—éå†è¿‡ç¨‹ç‹¬ç«‹äºé›†åˆï¼Œå¹¶èƒ½å¤Ÿæ”¯æŒå¤šç§ä¸åŒçš„éå†æ–¹å¼ã€‚é€šè¿‡è¿­ä»£å™¨æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸çŸ¥é“é›†åˆå†…éƒ¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œä¾ç„¶èƒ½å¤Ÿè®¿é—®é›†åˆä¸­çš„å…ƒç´ ï¼Œå¹¶ä¸”å¯ä»¥è½»æ¾åœ°åˆ‡æ¢ä¸åŒçš„éå†æ–¹å¼</p></blockquote><h2 id=å®ç°-7>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-7>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 15:51:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>IteratorMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>names</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>    <span class=n>names</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s>&#34;Alice&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>names</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s>&#34;Bob&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>names</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s>&#34;Charlie&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Collection</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>collection</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ListCollection</span><span class=o>&lt;&gt;(</span><span class=n>names</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>collection</span><span class=o>.</span><span class=na>getIterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>String</span> <span class=n>name</span> <span class=o>=</span> <span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>name</span><span class=o>);</span> <span class=c1>// Output: Alice, Bob, Charlie
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è¿­ä»£å™¨æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Iterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>boolean</span> <span class=nf>hasNext</span><span class=o>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>T</span> <span class=nf>next</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“è¿­ä»£å™¨
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ListIterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=kd>implements</span> <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=kt>int</span> <span class=n>index</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>ListIterator</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>list</span> <span class=o>=</span> <span class=n>list</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>index</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>boolean</span> <span class=nf>hasNext</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>index</span> <span class=o>&lt;</span> <span class=n>list</span><span class=o>.</span><span class=na>size</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>T</span> <span class=nf>next</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>hasNext</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>T</span> <span class=n>item</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>index</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>index</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>item</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=kc>null</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// é›†åˆæ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Collection</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=nf>getIterator</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“é›†åˆ
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ListCollection</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=kd>implements</span> <span class=n>Collection</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>ListCollection</span><span class=o>(</span><span class=n>List</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=n>list</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>list</span> <span class=o>=</span> <span class=n>list</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>Iterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;</span> <span class=nf>getIterator</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>new</span> <span class=n>ListIterator</span><span class=o>&lt;</span><span class=n>T</span><span class=o>&gt;(</span><span class=n>list</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=è®¿é—®è€…æ¨¡å¼>è®¿é—®è€…æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è®¿é—®è€…æ¨¡å¼>#</a></h1><p>ç”¨äºåœ¨ä¸ä¿®æ”¹å¯¹è±¡ç»“æ„çš„æƒ…å†µä¸‹ï¼Œä¸ºå¯¹è±¡ç»“æ„ä¸­çš„æ¯ä¸ªå…ƒç´ æä¾›ä¸€ç§ç‰¹å®šçš„è®¿é—®æ–¹å¼ã€‚å®ƒå°†æ•°æ®ç»“æ„ä¸æ•°æ®æ“ä½œåˆ†ç¦»ï¼Œä½¿å¾—æ–°å¢æ“ä½œï¼ˆè®¿é—®è€…ï¼‰å¯ä»¥ç‹¬ç«‹äºæ•°æ®ç»“æ„è¿›è¡Œæ‰©å±•ã€‚</p><h2 id=è§’è‰²-9>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-9>#</a></h2><ul><li>è®¿é—®è€…</li><li>å…·ä½“è®¿é—®è€…</li><li>å…ƒç´ </li><li>å…·ä½“å…ƒç´ </li><li>å¯¹è±¡ç»“æ„</li></ul><h2 id=é€‚ç”¨åœºæ™¯-2>é€‚ç”¨åœºæ™¯<a hidden class=anchor aria-hidden=true href=#é€‚ç”¨åœºæ™¯-2>#</a></h2><ul><li>è¿èƒŒäº†å¼€é—­åŸåˆ™ï¼Œè¿åä¾èµ–å€’ç½®åŸåˆ™ï¼Œä½¿ç”¨æ¡ä»¶å—é™</li></ul><h2 id=å®ç°-8>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-8>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 15:56:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>VisitorMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ObjectStructure</span> <span class=n>objectStructure</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ObjectStructure</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>objectStructure</span><span class=o>.</span><span class=na>addElement</span><span class=o>(</span><span class=k>new</span> <span class=n>ConcreteElementA</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>objectStructure</span><span class=o>.</span><span class=na>addElement</span><span class=o>(</span><span class=k>new</span> <span class=n>ConcreteElementB</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>Visitor</span> <span class=n>visitor</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteVisitor</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>objectStructure</span><span class=o>.</span><span class=na>accept</span><span class=o>(</span><span class=n>visitor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è®¿é—®è€…æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Visitor</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>visit</span><span class=o>(</span><span class=n>ConcreteElementA</span> <span class=n>element</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>visit</span><span class=o>(</span><span class=n>ConcreteElementB</span> <span class=n>element</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“è®¿é—®è€…
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteVisitor</span> <span class=kd>implements</span> <span class=n>Visitor</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>visit</span><span class=o>(</span><span class=n>ConcreteElementA</span> <span class=n>element</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Visit ConcreteElementA.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>visit</span><span class=o>(</span><span class=n>ConcreteElementB</span> <span class=n>element</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Visit ConcreteElementB.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…ƒç´ æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Element</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>accept</span><span class=o>(</span><span class=n>Visitor</span> <span class=n>visitor</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å…ƒç´ A
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteElementA</span> <span class=kd>implements</span> <span class=n>Element</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>accept</span><span class=o>(</span><span class=n>Visitor</span> <span class=n>visitor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>visitor</span><span class=o>.</span><span class=na>visit</span><span class=o>(</span><span class=k>this</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å…ƒç´ B
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteElementB</span> <span class=kd>implements</span> <span class=n>Element</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>accept</span><span class=o>(</span><span class=n>Visitor</span> <span class=n>visitor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>visitor</span><span class=o>.</span><span class=na>visit</span><span class=o>(</span><span class=k>this</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¯¹è±¡ç»“æ„
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ObjectStructure</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>List</span><span class=o>&lt;</span><span class=n>Element</span><span class=o>&gt;</span> <span class=n>elements</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>addElement</span><span class=o>(</span><span class=n>Element</span> <span class=n>element</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>elements</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>element</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>accept</span><span class=o>(</span><span class=n>Visitor</span> <span class=n>visitor</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=o>(</span><span class=n>Element</span> <span class=n>element</span> <span class=o>:</span> <span class=n>elements</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>element</span><span class=o>.</span><span class=na>accept</span><span class=o>(</span><span class=n>visitor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=è´£ä»»é“¾æ¨¡å¼>è´£ä»»é“¾æ¨¡å¼<a hidden class=anchor aria-hidden=true href=#è´£ä»»é“¾æ¨¡å¼>#</a></h1><p>å…è®¸å°†è¯·æ±‚ä»ä¸€ä¸ªå¤„ç†è€…ä¼ é€’ç»™å¦ä¸€ä¸ªå¤„ç†è€…ï¼Œç›´åˆ°è¯·æ±‚è¢«å¤„ç†ä¸ºæ­¢ã€‚è´£ä»»é“¾æ¨¡å¼å°†è¯·æ±‚å’Œå¤„ç†è€…è§£è€¦ï¼Œä½¿å¾—å¤šä¸ªå¤„ç†è€…éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œè€Œä¸æ˜¯ç”±ä¸€ä¸ªå¤„ç†è€…ç‹¬è‡ªå¤„ç†</p><h2 id=è§’è‰²-10>è§’è‰²<a hidden class=anchor aria-hidden=true href=#è§’è‰²-10>#</a></h2><ul><li>å¤„ç†è€…</li><li>å…·ä½“å¤„ç†è€…</li><li>å®¢æˆ·ç«¯</li></ul><h2 id=å®ç°-9>å®ç°<a hidden class=anchor aria-hidden=true href=#å®ç°-9>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * è´£ä»»é“¾æ¨¡å¼
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 16:00:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>HandleChainMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ConcreteHandlerA</span> <span class=n>handlerA</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteHandlerA</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>ConcreteHandlerB</span> <span class=n>handlerB</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteHandlerB</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>ConcreteHandlerC</span> <span class=n>handlerC</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ConcreteHandlerC</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>.</span><span class=na>setNextHandler</span><span class=o>(</span><span class=n>handlerB</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>handlerB</span><span class=o>.</span><span class=na>setNextHandler</span><span class=o>(</span><span class=n>handlerC</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>handlerA</span><span class=o>.</span><span class=na>handleRequest</span><span class=o>(</span><span class=n>50</span><span class=o>);</span>  <span class=c1>// Output: ConcreteHandlerA handles the request.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>handlerA</span><span class=o>.</span><span class=na>handleRequest</span><span class=o>(</span><span class=n>200</span><span class=o>);</span> <span class=c1>// Output: ConcreteHandlerB handles the request.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>handlerA</span><span class=o>.</span><span class=na>handleRequest</span><span class=o>(</span><span class=n>600</span><span class=o>);</span> <span class=c1>// Output: ConcreteHandlerC handles the request.
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å¤„ç†è€…æ¥å£
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Handler</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>handleRequest</span><span class=o>(</span><span class=kt>int</span> <span class=n>amount</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…A
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteHandlerA</span> <span class=kd>implements</span> <span class=n>Handler</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Handler</span> <span class=n>nextHandler</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setNextHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>nextHandler</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>nextHandler</span> <span class=o>=</span> <span class=n>nextHandler</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>handleRequest</span><span class=o>(</span><span class=kt>int</span> <span class=n>amount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>amount</span> <span class=o>&lt;=</span> <span class=n>100</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ConcreteHandlerA handles the request.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>nextHandler</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>nextHandler</span><span class=o>.</span><span class=na>handleRequest</span><span class=o>(</span><span class=n>amount</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…B
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteHandlerB</span> <span class=kd>implements</span> <span class=n>Handler</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>private</span> <span class=n>Handler</span> <span class=n>nextHandler</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setNextHandler</span><span class=o>(</span><span class=n>Handler</span> <span class=n>nextHandler</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>nextHandler</span> <span class=o>=</span> <span class=n>nextHandler</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>handleRequest</span><span class=o>(</span><span class=kt>int</span> <span class=n>amount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>amount</span> <span class=o>&gt;</span> <span class=n>100</span> <span class=o>&amp;&amp;</span> <span class=n>amount</span> <span class=o>&lt;=</span> <span class=n>500</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ConcreteHandlerB handles the request.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=k>if</span> <span class=o>(</span><span class=n>nextHandler</span> <span class=o>!=</span> <span class=kc>null</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>nextHandler</span><span class=o>.</span><span class=na>handleRequest</span><span class=o>(</span><span class=n>amount</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// å…·ä½“å¤„ç†è€…C
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>class</span> <span class=nc>ConcreteHandlerC</span> <span class=kd>implements</span> <span class=n>Handler</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>handleRequest</span><span class=o>(</span><span class=kt>int</span> <span class=n>amount</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>amount</span> <span class=o>&gt;</span> <span class=n>500</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ConcreteHandlerC handles the request.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;No handler can handle the request.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h2 id=å¤æ‚é“¾-å®ç°>å¤æ‚é“¾-å®ç°<a hidden class=anchor aria-hidden=true href=#å¤æ‚é“¾-å®ç°>#</a></h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.ArrayList</span><span class=o>;</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>java.util.List</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm> * æ‹¦æˆªé“¾
</span></span></span><span class=line><span class=cl><span class=cm> *
</span></span></span><span class=line><span class=cl><span class=cm> * @author Alfred.Ning
</span></span></span><span class=line><span class=cl><span class=cm> * @since 2023å¹´08æœˆ06æ—¥ 16:34:00
</span></span></span><span class=line><span class=cl><span class=cm> */</span>
</span></span><span class=line><span class=cl><span class=kd>public</span> <span class=kd>class</span> <span class=nc>FilterMain</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=cm>/**
</span></span></span><span class=line><span class=cl><span class=cm>   * 
</span></span></span><span class=line><span class=cl><span class=cm>   * HttpFilter#doFilter æ‰§è¡Œä¹‹å‰
</span></span></span><span class=line><span class=cl><span class=cm>   * CharacterFilter#doFilter æ‰§è¡Œä¹‹å‰
</span></span></span><span class=line><span class=cl><span class=cm>   * EncodingFilter#doFilter æ‰§è¡Œä¹‹å‰
</span></span></span><span class=line><span class=cl><span class=cm>   * ç›®æ ‡æ–¹æ³• &gt;&gt;&gt;&gt;&gt; æˆ‘è¢«applyäº†
</span></span></span><span class=line><span class=cl><span class=cm>   * EncodingFilter#doFilter æ‰§è¡Œä¹‹å
</span></span></span><span class=line><span class=cl><span class=cm>   * CharacterFilter#doFilter æ‰§è¡Œä¹‹å
</span></span></span><span class=line><span class=cl><span class=cm>   * HttpFilter#doFilter æ‰§è¡Œä¹‹å
</span></span></span><span class=line><span class=cl><span class=cm>   */</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kd>static</span> <span class=kt>void</span> <span class=nf>main</span><span class=o>(</span><span class=n>String</span><span class=o>[]</span> <span class=n>args</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>FilterChain</span> <span class=n>filterChain</span> <span class=o>=</span> <span class=k>new</span> <span class=n>FilterChain</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>addFilter</span><span class=o>(</span><span class=k>new</span> <span class=n>HttpFilter</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>addFilter</span><span class=o>(</span><span class=k>new</span> <span class=n>CharacterFilter</span><span class=o>());</span>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>addFilter</span><span class=o>(</span><span class=k>new</span> <span class=n>EncodingFilter</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>setTarget</span><span class=o>(</span><span class=k>new</span> <span class=n>MyTarget</span><span class=o>());</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>doFilter</span><span class=o>(</span><span class=k>new</span> <span class=n>Request</span><span class=o>(</span><span class=s>&#34;Request for test&#34;</span><span class=o>),</span> <span class=k>new</span> <span class=n>Response</span><span class=o>(</span><span class=s>&#34;Response for test&#34;</span><span class=o>),</span> <span class=n>filterChain</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// è´£ä»»é“¾æ‰§è¡Œå®Œæ¯•éœ€è¦æ‰§è¡Œçš„æ–¹æ³•
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>interface</span> <span class=nc>Target</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>apply</span><span class=o>();</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>MyTarget</span> <span class=kd>implements</span> <span class=n>Target</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>apply</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;ç›®æ ‡æ–¹æ³• &gt;&gt;&gt;&gt;&gt; æˆ‘è¢«applyäº†&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>HttpFilter</span> <span class=kd>implements</span> <span class=n>Filter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doFilter</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>,</span> <span class=n>FilterChain</span> <span class=n>chain</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>request</span><span class=o>.</span><span class=na>msg</span> <span class=o>+=</span> <span class=s>&#34;======&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;HttpFilter#doFilter æ‰§è¡Œä¹‹å‰&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>chain</span><span class=o>.</span><span class=na>doFilter</span><span class=o>(</span><span class=n>request</span><span class=o>,</span> <span class=n>response</span><span class=o>,</span> <span class=n>chain</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;HttpFilter#doFilter æ‰§è¡Œä¹‹å&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>CharacterFilter</span> <span class=kd>implements</span> <span class=n>Filter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doFilter</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>,</span> <span class=n>FilterChain</span> <span class=n>chain</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>request</span><span class=o>.</span><span class=na>msg</span> <span class=o>+=</span> <span class=s>&#34;xxxxxx&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;CharacterFilter#doFilter æ‰§è¡Œä¹‹å‰&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>chain</span><span class=o>.</span><span class=na>doFilter</span><span class=o>(</span><span class=n>request</span><span class=o>,</span> <span class=n>response</span><span class=o>,</span> <span class=n>chain</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;CharacterFilter#doFilter æ‰§è¡Œä¹‹å&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>EncodingFilter</span> <span class=kd>implements</span> <span class=n>Filter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doFilter</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>,</span> <span class=n>FilterChain</span> <span class=n>chain</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>request</span><span class=o>.</span><span class=na>msg</span> <span class=o>+=</span> <span class=s>&#34;yyyyyyyy&#34;</span><span class=o>;</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;EncodingFilter#doFilter æ‰§è¡Œä¹‹å‰&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>chain</span><span class=o>.</span><span class=na>doFilter</span><span class=o>(</span><span class=n>request</span><span class=o>,</span> <span class=n>response</span><span class=o>,</span> <span class=n>chain</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;EncodingFilter#doFilter æ‰§è¡Œä¹‹å&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>interface</span> <span class=nc>Filter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>doFilter</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>,</span> <span class=n>FilterChain</span> <span class=n>filterChain</span><span class=o>);</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>FilterChain</span> <span class=kd>implements</span> <span class=n>Filter</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>List</span><span class=o>&lt;</span><span class=n>Filter</span><span class=o>&gt;</span> <span class=n>filterChain</span> <span class=o>=</span> <span class=k>new</span> <span class=n>ArrayList</span><span class=o>&lt;&gt;();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>Target</span> <span class=n>target</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>cursor</span> <span class=o>=</span> <span class=n>0</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>setTarget</span><span class=o>(</span><span class=n>Target</span> <span class=n>target</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>target</span> <span class=o>=</span> <span class=n>target</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>Target</span> <span class=nf>getTarget</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>target</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>addFilter</span><span class=o>(</span><span class=n>Filter</span> <span class=n>filter</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=n>filterChain</span><span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=n>filter</span><span class=o>);</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=nd>@Override</span>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=kt>void</span> <span class=nf>doFilter</span><span class=o>(</span><span class=n>Request</span> <span class=n>request</span><span class=o>,</span> <span class=n>Response</span> <span class=n>response</span><span class=o>,</span> <span class=n>FilterChain</span> <span class=n>chain</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=o>(</span><span class=n>cursor</span> <span class=o>&lt;</span> <span class=n>filterChain</span><span class=o>.</span><span class=na>size</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Filter</span> <span class=n>filter</span> <span class=o>=</span> <span class=n>filterChain</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=n>cursor</span><span class=o>);</span>
</span></span><span class=line><span class=cl>      <span class=n>cursor</span><span class=o>++;</span>
</span></span><span class=line><span class=cl>      <span class=n>filter</span><span class=o>.</span><span class=na>doFilter</span><span class=o>(</span><span class=n>request</span><span class=o>,</span> <span class=n>response</span><span class=o>,</span> <span class=n>chain</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>      <span class=n>target</span><span class=o>.</span><span class=na>apply</span><span class=o>();</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Response</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>String</span> <span class=n>content</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>Response</span><span class=o>(</span><span class=n>String</span> <span class=n>content</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>content</span> <span class=o>=</span> <span class=n>content</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>class</span> <span class=nc>Request</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>String</span> <span class=n>msg</span><span class=o>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=nf>Request</span><span class=o>(</span><span class=n>String</span> <span class=n>msg</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>.</span><span class=na>msg</span> <span class=o>=</span> <span class=n>msg</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>public</span> <span class=n>String</span> <span class=nf>getMsg</span><span class=o>()</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>msg</span><span class=o>;</span>
</span></span><span class=line><span class=cl>  <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div></div><footer class=post-footer><nav class=paginav><a class=prev href=https://AlfredNing.github.io/note/program/mybatis/mybatis_generator/><span class=title>Â« ä¸Šä¸€é¡µ</span><br><span>Mybatis_generator</span></a>
<a class=next href=https://AlfredNing.github.io/note/program/design_pattern/%E7%BB%93%E6%9E%84%E5%9E%8B%E6%A8%A1%E5%BC%8F/><span class=title>ä¸‹ä¸€é¡µ Â»</span><br><span>ç»“æ„å‹æ¨¡å¼</span></a></nav></footer></div><div><div class=pagination__title><span class=pagination__title-h style=font-size:20px>ğŸ’¬è¯„è®º</span><hr></div><div id=tcomment></div><script src=https://utteranc.es/client.js repo=AlfredNing/AlfredNing.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script></div></article></main><footer class=footer><span>&copy; 2023 <a href=https://AlfredNing.github.io>AlfredNing</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="å¤åˆ¶";function s(){t.innerHTML="å·²å¤åˆ¶ï¼",setTimeout(()=>{t.innerHTML="å¤åˆ¶"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>